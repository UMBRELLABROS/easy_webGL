<!DOCTYPE html>
<html lang="de">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />   
    <title>easy webGL Hallo Dreieck </title>
    <link href="css/style.css" rel="stylesheet">
    <script src="js/attribute.js"></script>
    <script src="js/program.js"></script>
    <script src="js/functions.js"></script>
    <link
  </head>

  <body> 
    
      <div id='canvas_container' ></div>      
    
  </body>

  <script>
    "use scrict";
    // Part 1 (getContext)
    // create canvas and gl(webGL) 
    var div = $('canvas_container');
    var canvas = dcE('canvas');
    canvas.className = "default_canvas";
    var title = dcE('div');
    canvas.width = div.offsetWidth;
    canvas.height = div.offsetHeight;
    div.appendChild(canvas);
    title.innerHTML = document.title;
    title.className = "div_footer";
    div.appendChild(title);
    
    try {gl = canvas.getContext('webgl') }
    catch(e) {alert('Exception init: '+e.toString());}
    if(!gl) {alert('Unable to create Web GL context');}

    // Part 2 addNewWord 
    var positions = [-0.25,-0.25,0,0.25,-0.25,0,0,0.25,0];
          
    var attribute = new Attribute(gl, "a_position", 1, gl.ARRAY_BUFFER, positions);
    
    var vertexShaderCode = "attribute vec3 a_position; void main(){ gl_Position = vec4(a_position,1); } ";
    var fragmentShaderCode = "precision mediump float; void main(){ gl_FragColor = vec4(1,0,0,1); } ";
        
    // createProgram
    var program = new Program(gl);
    program.setShader(vertexShaderCode, gl.VERTEX_SHADER);
    program.setShader(fragmentShaderCode, gl.FRAGMENT_SHADER);
    program.link();
    
    // Part 3 drawScene
    program.use();    

    var attributeIndex = program.getAttributeLocation('a_position');
    attribute.setIndex(attributeIndex);
    attribute.enable();
   
    //drawTriangles
    gl.drawArrays(gl.TRIANGLES, 0, 3);

    </script>



</html>