<!DOCTYPE html>
<html lang="de">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />       
    <title> Perspektive mit Math.js </title>    
    <link href="css/style.css" rel="stylesheet">
    <script src="js/gl.js"></script>
    <script src="js/geometry.js"></script>
    <script src="js/math.js"></script>
    <script src="js/functions.js"></script>
    <script src="js/attribute.js"></script>
    <script src="js/uniform.js"></script>
    <script src="js/texture.js"></script>
    <script src="js/program.js"></script>    
    <script src="js/baseobject.js"></script>
    <script src="js/triangle.js"></script>
    <script src="js/item.js"></script>
    <script src="js/scene.js"></script>
    <script src="js/vertexshader.js"></script>
    <script src="js/fragmentshader.js"></script>
    <script src="js/world.js"></script>
    <script src="js/prop.js"></script>
    <script src="js/light.js"></script>
    <script src="js/camera.js"></script>
    <script src="js/director.js"></script>
    <link
  </head>

  <body> 
    
    <div id='canvas_container' ></div>      

    Cube<br>
    <button onclick="rotate(-0.02,0,0)">Rotate -X</button> 
    <button onclick="rotate(+0.02,0,0)">Rotate +X</button>
    <br>
    <button onclick="rotate(0,-0.02,0)">Rotate -Y</button> 
    <button onclick="rotate(0,+0.02,0)">Rotate +Y</button>
    <br>
    <button onclick="rotate(0, 0,-0.02)">Rotate -Z</button> 
    <button onclick="rotate(0, 0,+0.02)">Rotate +Z</button>
    <br>
    <br>
    Moon<br>
    <button onclick="rotateProp1(-0.005,0,0)">Rotate -X</button> 
    <button onclick="rotateProp1(+0.005,0,0)">Rotate +X</button>
    <br>
    <button onclick="rotateProp1(0,-0.005,0)">Rotate -Y</button> 
    <button onclick="rotateProp1(0,+0.005,0)">Rotate +Y</button>
    <br>
    <button onclick="rotateProp1(0,0,-0.005)">Rotate -Z</button> 
    <button onclick="rotateProp1(0,0,+0.005)">Rotate +Z</button>
    <br>
          
  </body>

  <script>
    "use scrict";
    // Part 1 (getContext)
    // create canvas and gl(webGL) 
    var div = $('canvas_container');
    var canvas = dcE('canvas');
    canvas.className = "default_canvas";
    var title = dcE('div');
    canvas.width = div.offsetWidth;
    canvas.height = div.offsetHeight;
    div.appendChild(canvas);
    title.innerHTML = document.title;
    title.className = "div_footer";
    div.appendChild(title);
    

    var cube = Geometry.cube({radius:15});
    var sphere = Geometry.sphere({radius:15,stacks:25,slices:25});
    var sphereLight = Geometry.sphere({radius:0.5});
   
    var director = new DirectorController(canvas);

    var camera1 = new Camera();

    var actor1 = new PropService({
      geometry:cube, 
      //color : [0,1,1,1],
      image : "misc/flower.jpg",
      position:[-30, 0,40]
    });

    var propC =[];
    

    var prop1 = new PropService({
      geometry:sphere, 
      //color : [0,1,1,1], 
      image : "misc/2k_moon.jpg",     
      position:[10,0,35]
    })

    
         
    var light1 = new LightService();
    light1.setKind(LightKind.DIRECT);
    light1.setDirection([-0.9, -0.1, -0.0]);  
    
    var light2 = new LightService();
    light2.setKind(LightKind.POINT);
    light2.position = [22,-7,23];
    propLight = new PropService({geometry:sphereLight, color : [1,1,1,1], position:light2.position})

    
    propC.push(actor1);
    propC.push(prop1);
    propC.push(propLight);

    var scene = new SceneService(propC, [light1, light2], [camera1]);

    director.addScene([scene]);

    director.action();

    function rotate(valueX,valueY,valueZ){
        actor1.setRotation([valueX,valueY,valueZ]);
        // director.action();
    }

    function rotateProp1(valueX,valueY,valueZ){
        prop1.setRotation([valueX,valueY,valueZ]);
        // director.action();
    }


    
    </script>

</html>